var En=function(){	this.m_XHRReq=null;	var xThis=this; 	this.init=function(){		var req=new XMLHttpRequest();		if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari		  req=new XMLHttpRequest();		}else{// code for IE6, IE5		  req=new ActiveXObject("Microsoft.XMLHTTP");		}		xThis.m_XHRReq=req; 	}	this.newReq=function(){		var req=new XMLHttpRequest();		if (window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari		  req=new XMLHttpRequest();		}else{// code for IE6, IE5		  req=new ActiveXObject("Microsoft.XMLHTTP");		}		return req; 	}	this.post=function(p_Host,p_Params,p_Callback){		var req=xThis.newReq();//xThis.m_XHRReq;		req.open("POST",p_Host,true);		req.setRequestHeader("Content-type","application/x-www-form-urlencoded"); 		var p=xThis.parseParams(p_Params);		p=p.substr(0,p.length-1); 		//console.log(p);		req.send(p);		req.onreadystatechange=function(){			if(req.readyState==4&&req.status==200){				if(p_Callback!==undefined){					p_Callback(req.response);				}			}		} 	}	this.parseParams=function(p_Params){		var res='';		for(var key in p_Params){			if(typeof p_Params[key]=='object'){				res+=key+'='+JSON.stringify(p_Params[key])+'&';			}else{				res+=key+'='+p_Params[key]+'&';			}		}		return res;			}	this.getElementByClass=function(p_Class,p_Root){		var r=[];		if(p_Root===undefined){			var c=document.body.childNodes;			var i,iC=c.length;			for(i=iC;i--;){				var nm=c[i].attributes;				if(nm&&nm.getNamedIndex('class')){					r.push(nm);				}			}		}else{			var c=p_Root.childNodes;			var i,iC=c.length;			for(i=iC;i--;){				var nm=c[i].attributes;				if(nm&&nm.getNamedIndex('class')){					r.push(nm);				}			}		}		return r;	}	this.is_array=function(p_Obj){		return (Object.prototype.toString.call(p_Obj) === '[object Array]' );	}}var n=new En();n.init();window.En=n;